<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_37) on Tue Dec 04 15:50:36 EST 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
KeyCoder (akiban-persistit 3.2.2 API)
</TITLE>

<META NAME="date" CONTENT="2012-12-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="KeyCoder (akiban-persistit 3.2.2 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/KeyCoder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/persistit/encoding/HandleCache.html" title="interface in com.persistit.encoding"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/persistit/encoding/KeyDisplayer.html" title="interface in com.persistit.encoding"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/persistit/encoding/KeyCoder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KeyCoder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.persistit.encoding</FONT>
<BR>
Interface KeyCoder</H2>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../com/persistit/encoding/KeyDisplayer.html" title="interface in com.persistit.encoding">KeyDisplayer</A>, <A HREF="../../../com/persistit/encoding/KeyRenderer.html" title="interface in com.persistit.encoding">KeyRenderer</A>, <A HREF="../../../com/persistit/encoding/ObjectCoder.html" title="interface in com.persistit.encoding">ObjectCoder</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../com/persistit/DefaultObjectCoder.html" title="class in com.persistit">DefaultObjectCoder</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>KeyCoder</B></DL>
</PRE>

<P>
<p>
 Interface for specialized encoding and decoding of an <code>Object</code> of
 arbitrary type to or from a <A HREF="../../../com/persistit/Key.html" title="class in com.persistit"><CODE>Key</CODE></A>. Persistit contains built-in logic to
 encode Objects of certain classes. By registering a <code>KeyCoder</code>
 with the current <A HREF="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><CODE>CoderManager</CODE></A> you can add encoding for classes that
 otherwise are not able to be included in Persistit key values.
 </p>
 <p>
 A <code>KeyCoder</code> implements methods to convert an object of some class
 to an array of bytes and back again. The byte array is used to identify (or
 partially identify) a record in a Persistit <code>Tree</code>. A typical
 <code>KeyCoder</code> simply appends identifying fields of the object.
 </p>
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>1.0</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/encoding/KeyCoder.html#appendKeySegment(com.persistit.Key, java.lang.Object, com.persistit.encoding.CoderContext)">appendKeySegment</A></B>(<A HREF="../../../com/persistit/Key.html" title="class in com.persistit">Key</A>&nbsp;key,
                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;object,
                 <A HREF="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</A>&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Append a key segment derived from an object to a <A HREF="../../../com/persistit/Key.html" title="class in com.persistit"><CODE>Key</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/encoding/KeyCoder.html#decodeKeySegment(com.persistit.Key, java.lang.Class, com.persistit.encoding.CoderContext)">decodeKeySegment</A></B>(<A HREF="../../../com/persistit/Key.html" title="class in com.persistit">Key</A>&nbsp;key,
                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                 <A HREF="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</A>&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Decode a key segment as an Object value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/encoding/KeyCoder.html#isZeroByteFree()">isZeroByteFree</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Since a key segment is terminated by a zero byte value the encoded
 portion of the segment must not contain zeroes.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="appendKeySegment(com.persistit.Key, java.lang.Object, com.persistit.encoding.CoderContext)"><!-- --></A><H3>
appendKeySegment</H3>
<PRE>
void <B>appendKeySegment</B>(<A HREF="../../../com/persistit/Key.html" title="class in com.persistit">Key</A>&nbsp;key,
                      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;object,
                      <A HREF="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</A>&nbsp;context)
                      throws <A HREF="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</A></PRE>
<DL>
<DD><p>
 Append a key segment derived from an object to a <A HREF="../../../com/persistit/Key.html" title="class in com.persistit"><CODE>Key</CODE></A>. This method
 will be called only if this <code>KeyCoder</code> has been registered
 with the current <A HREF="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><CODE>CoderManager</CODE></A> to encode objects having the class
 of the supplied object.
 </p>
 <p>
 Upon completion of this method, the backing byte array of the
 <code>Key</code> and its size should be updated to reflect the appended
 key segment. Use the methods <A HREF="../../../com/persistit/Key.html#getEncodedBytes()"><CODE>Key.getEncodedBytes()</CODE></A>,
 <A HREF="../../../com/persistit/Key.html#getEncodedSize()"><CODE>Key.getEncodedSize()</CODE></A> and <A HREF="../../../com/persistit/Key.html#setEncodedSize(int)"><CODE>Key.setEncodedSize(int)</CODE></A> to manipulate
 the byte array directly. More commonly, the implementation of this method
 will simply append appropriate identifying fields within the object to
 the key.
 </p>
 <p>
 This method is not responsible for encoding the class of the object being
 appended. The caller encodes the identity of the class. This method
 merely needs to encode the state of the object.
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The <A HREF="../../../com/persistit/Key.html" title="class in com.persistit"><CODE>Key</CODE></A> to append to<DD><CODE>object</CODE> - The object to encode<DD><CODE>context</CODE> - An arbitrary object that can optionally be supplied by the
            application to convey an application-specific context for the
            operation. (See <A HREF="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding"><CODE>CoderContext</CODE></A>.) The default value is
            <code>null</code>.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="decodeKeySegment(com.persistit.Key, java.lang.Class, com.persistit.encoding.CoderContext)"><!-- --></A><H3>
decodeKeySegment</H3>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A> <B>decodeKeySegment</B>(<A HREF="../../../com/persistit/Key.html" title="class in com.persistit">Key</A>&nbsp;key,
                        <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</A>&lt;?&gt;&nbsp;clazz,
                        <A HREF="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding">CoderContext</A>&nbsp;context)
                        throws <A HREF="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</A></PRE>
<DL>
<DD><p>
 Decode a key segment as an Object value. This method is invoked when
 <A HREF="../../../com/persistit/Key.html#decode(java.lang.Object)"><CODE>Key.decode(Object)</CODE></A> attempts to decode a key segment that was
 previously append by the <A HREF="../../../com/persistit/encoding/KeyCoder.html#appendKeySegment(com.persistit.Key, java.lang.Object, com.persistit.encoding.CoderContext)"><CODE>appendKeySegment(com.persistit.Key, java.lang.Object, com.persistit.encoding.CoderContext)</CODE></A> method. Thus the
 implementation of this method must precisely decode the same bytes that
 were generated by the companion <code>appendKeySegment</code> method of
 this <code>ValueCoder</code>.
 </p>
 <p>
 This method will be called only if this <code>KeyCoder</code> is
 registered with the current <A HREF="../../../com/persistit/encoding/CoderManager.html" title="interface in com.persistit.encoding"><CODE>CoderManager</CODE></A> to encode and decode
 objects of the class that is actually represented in the <code>Key</code>
 . The class with which the key was encoded is provided as an argument.
 This permits one <code>KeyCoder</code> to handle multiple classes because
 the implementation can dispatch to code appropriate for the particular
 supplied class. The implementation should construct and return an Object
 having the same class as the supplied class.
 </p>
 <p>
 When this method is called the value <A HREF="../../../com/persistit/Key.html#getIndex()"><CODE>Key.getIndex()</CODE></A> will be the
 offset within the key of the first encoded byte. The key segment is
 zero-byte terminated.
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>key</CODE> - The <A HREF="../../../com/persistit/Key.html" title="class in com.persistit"><CODE>Key</CODE></A> from which data should be decoded<DD><CODE>clazz</CODE> - The expected <code>Class</code> of the returned object<DD><CODE>context</CODE> - An arbitrary object that can optionally be supplied by the
            application to convey an application-specific context for the
            operation. (See <A HREF="../../../com/persistit/encoding/CoderContext.html" title="interface in com.persistit.encoding"><CODE>CoderContext</CODE></A>.) The default value is
            <code>null</code>.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="isZeroByteFree()"><!-- --></A><H3>
isZeroByteFree</H3>
<PRE>
boolean <B>isZeroByteFree</B>()
                       throws <A HREF="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</A></PRE>
<DL>
<DD><p>
 Since a key segment is terminated by a zero byte value the encoded
 portion of the segment must not contain zeroes. This method should
 indicate whether the encoding implemented by this KeyCoder produces zero
 bytes.
 </p>
 <p>
 If this method returns <code>false</code> then Persistit will insert
 escape sequences into the encoding produced by
 <A HREF="../../../com/persistit/encoding/KeyCoder.html#appendKeySegment(com.persistit.Key, java.lang.Object, com.persistit.encoding.CoderContext)"><CODE>appendKeySegment(Key, Object, CoderContext)</CODE></A> to a form with no
 zeroes.
 </p>
 <p>
 If this method returns <code>true</code> then Persistit will verify that
 there are no zero bytes and throw an ConversionException otherwise.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>whether this KeyCoder produces encodings guaranteed not to
         contain zero bytes
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/persistit/exception/ConversionException.html" title="class in com.persistit.exception">ConversionException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/KeyCoder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/persistit/encoding/HandleCache.html" title="interface in com.persistit.encoding"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/persistit/encoding/KeyDisplayer.html" title="interface in com.persistit.encoding"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/persistit/encoding/KeyCoder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="KeyCoder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2005-2012 <a href="http://www.akiban.com">Akiban Technologies, Inc</a>. All Rights Reserved.
</BODY>
</HTML>
