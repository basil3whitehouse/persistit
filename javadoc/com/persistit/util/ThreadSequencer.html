<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_37) on Tue Dec 04 15:50:40 EST 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ThreadSequencer (akiban-persistit 3.2.2 API)
</TITLE>

<META NAME="date" CONTENT="2012-12-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ThreadSequencer (akiban-persistit 3.2.2 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ThreadSequencer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/persistit/util/ThreadSequencer.Condition.html" title="class in com.persistit.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/persistit/util/ThreadSequencer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ThreadSequencer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.persistit.util</FONT>
<BR>
Class ThreadSequencer</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>com.persistit.util.ThreadSequencer</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util">SequencerConstants</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ThreadSequencer</B><DT>extends <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A><DT>implements <A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util">SequencerConstants</A></DL>
</PRE>

<P>
<p>
 Internal utility that allows tests to define execution sequences to confirm
 specific concurrent execution patterns. Subject code incorporates calls to
 the static method <A HREF="../../../com/persistit/util/ThreadSequencer.html#sequence(int)"><CODE>sequence(int)</CODE></A>. Each usage in the application code
 should follow this pattern:
 </p>
 <ul>
 <li>In the <A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util"><CODE>SequencerConstants</CODE></A> interface, add a static variable with a
 name denoting the place in code where sequencing will occur as follows:
 
 <pre>
 <code>
   final static int SOME_LOCATION = ThreadSequence.allocate("SOME_LOCATION");
 </code>
 </pre>
 
 </li>
 <li>In the class being tested, add a static import to ThreadSequence.* and
 then call itself:
 
 <pre>
 <code>
      sequence(SOME_LOCATION);
 </code>
 </pre>
 
 </li>
 </ul>
 <p>
 The <A HREF="../../../com/persistit/util/ThreadSequencer.html#allocate(java.lang.String)"><CODE>allocate(String)</CODE></A> method simply allocates a unique integer and
 stores an associated location name. Currently the maximum number of allocated
 locations is 64.
 </p>
 <p>
 The <A HREF="../../../com/persistit/util/ThreadSequencer.html#sequence(int)"><CODE>sequence(int)</CODE></A> method blocks on a Semaphore until a condition for
 release is recognized. The condition is determined by a schedule that the
 test class must define.
 </p>
 <p>
 The entire ThreadSequence mechanism must be enabled via
 <A HREF="../../../com/persistit/util/ThreadSequencer.html#enableSequencer(boolean)"><CODE>enableSequencer(boolean)</CODE></A>. By default all calls to
 <A HREF="../../../com/persistit/util/ThreadSequencer.html#sequence(int)"><CODE>sequence(int)</CODE></A> invoke an empty method in the NullSequencer subclass,
 which is fast.
 </p>
 <p>
 In conjunction with enabling the sequencer, a test must also add one or more
 sequencing schedules. Each schedule denotes two sets: the "join set" and the
 "release set". When a thread calls sequence(x), the thread adds location x to
 a list of blocked locations. It then determines whether that set covers any
 join set, and if so, it releases all threads in the associated release set.
 For example, suppose there are three location A, B and C. Consider two
 sections of code executed by two different threads: <code><pre>
   sequence(A)
   // do this before B
   sequence(C)
 </pre></code> and <code><pre>
   sequence(B)
   // do this after A
 </pre></code> A suitable schedule might include the
 pairs (A, B)->(A) and (B, C)->(B, C). In this example one thread blocks until
 both sequence(A) and sequence(B) have been called. Then the schedule (A,
 B)->(A) releases the call to sequence(A) so that the first thread runs. When
 the first thread calls sequence(C), the schedule (B,C)->(B,C) runs, releasing
 the second thread's call to sequence(B) and allowing the first thread to
 continue without blocking.
 </p>
 <p>
 Follow existing usage in <A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util"><CODE>SequencerConstants</CODE></A> for defining schedules.
 Test classes should invoke the static method <A HREF="../../../com/persistit/util/ThreadSequencer.html#addSchedules(int[][])"><CODE>addSchedules(int[][])</CODE></A>
 to add schedules defined in SequencerConstants.
 </p>
 <p>
 Note: a malformed schedule can cause threads blocked within the sequence
 method to remain blocked forever.
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>peter</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.Condition.html" title="class in com.persistit.util">ThreadSequencer.Condition</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.persistit.util.SequencerConstants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface com.persistit.util.<A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util">SequencerConstants</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../com/persistit/util/SequencerConstants.html#ACCUMULATOR_CHECKPOINT_A">ACCUMULATOR_CHECKPOINT_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#ACCUMULATOR_CHECKPOINT_B">ACCUMULATOR_CHECKPOINT_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#ACCUMULATOR_CHECKPOINT_C">ACCUMULATOR_CHECKPOINT_C</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#ACCUMULATOR_CHECKPOINT_SCHEDULED">ACCUMULATOR_CHECKPOINT_SCHEDULED</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#COMMIT_FLUSH_A">COMMIT_FLUSH_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#COMMIT_FLUSH_B">COMMIT_FLUSH_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#COMMIT_FLUSH_C">COMMIT_FLUSH_C</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#COMMIT_FLUSH_SCHEDULE">COMMIT_FLUSH_SCHEDULE</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#DEALLOCATE_CHAIN_A">DEALLOCATE_CHAIN_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#DEALLOCATE_CHAIN_B">DEALLOCATE_CHAIN_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#DEALLOCATE_CHAIN_C">DEALLOCATE_CHAIN_C</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#DEALLOCATE_CHAIN_SCHEDULED">DEALLOCATE_CHAIN_SCHEDULED</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#LONG_RECORD_ALLOCATE_A">LONG_RECORD_ALLOCATE_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#LONG_RECORD_ALLOCATE_B">LONG_RECORD_ALLOCATE_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#LONG_RECORD_ALLOCATE_SCHEDULED">LONG_RECORD_ALLOCATE_SCHEDULED</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#PAGE_MAP_READ_INVALIDATE_A">PAGE_MAP_READ_INVALIDATE_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#PAGE_MAP_READ_INVALIDATE_B">PAGE_MAP_READ_INVALIDATE_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#PAGE_MAP_READ_INVALIDATE_C">PAGE_MAP_READ_INVALIDATE_C</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#PAGE_MAP_READ_INVALIDATE_SCHEDULE">PAGE_MAP_READ_INVALIDATE_SCHEDULE</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#RECOVERY_PRUNING_A">RECOVERY_PRUNING_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#RECOVERY_PRUNING_B">RECOVERY_PRUNING_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#RECOVERY_PRUNING_SCHEDULE">RECOVERY_PRUNING_SCHEDULE</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#TREE_CREATE_REMOVE_A">TREE_CREATE_REMOVE_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#TREE_CREATE_REMOVE_B">TREE_CREATE_REMOVE_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#TREE_CREATE_REMOVE_C">TREE_CREATE_REMOVE_C</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#TREE_CREATE_REMOVE_SCHEDULE">TREE_CREATE_REMOVE_SCHEDULE</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#WRITE_WRITE_STORE_A">WRITE_WRITE_STORE_A</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#WRITE_WRITE_STORE_B">WRITE_WRITE_STORE_B</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#WRITE_WRITE_STORE_C">WRITE_WRITE_STORE_C</A>, <A HREF="../../../com/persistit/util/SequencerConstants.html#WRITE_WRITE_STORE_SCHEDULE">WRITE_WRITE_STORE_SCHEDULE</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#ThreadSequencer()">ThreadSequencer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#addSchedule(int[], int[])">addSchedule</A></B>(int[]&nbsp;awaitLocations,
            int[]&nbsp;releaseLocations)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#addSchedules(int[][])">addSchedules</A></B>(int[][]&nbsp;pairs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#allocate(java.lang.String)">allocate</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;locationName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#appendHistoryElement(java.lang.StringBuilder, int)">appendHistoryElement</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html?is-external=true" title="class or interface in java.lang">StringBuilder</A>&nbsp;sb,
                     int&nbsp;location)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#array(int...)">array</A></B>(int...&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#describeHistory(int[])">describeHistory</A></B>(int[]&nbsp;history)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#describePartialOrdering(int[]...)">describePartialOrdering</A></B>(int[]...&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#disableSequencer()">disableSequencer</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disable sequencer debugging.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#enableSequencer(boolean)">enableSequencer</A></B>(boolean&nbsp;history)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enable sequencer debugging.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#historyMeetsPartialOrdering(int[], int[]...)">historyMeetsPartialOrdering</A></B>(int[]&nbsp;history,
                            int[]...&nbsp;partialOrderings)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compare a particular sequence history to a collection of required
 subsets.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#out(int)">out</A></B>(int&nbsp;location)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#rawSequenceHistoryCopy()">rawSequenceHistoryCopy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#sequence(int)">sequence</A></B>(int&nbsp;location)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Possibly block (only when ThreadSequencer is enabled for tests) until a
 scheduling condition is met.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#sequencerHistory()">sequencerHistory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/persistit/util/ThreadSequencer.html#setCondition(int, com.persistit.util.ThreadSequencer.Condition)">setCondition</A></B>(int&nbsp;location,
             <A HREF="../../../com/persistit/util/ThreadSequencer.Condition.html" title="class in com.persistit.util">ThreadSequencer.Condition</A>&nbsp;condition)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ThreadSequencer()"><!-- --></A><H3>
ThreadSequencer</H3>
<PRE>
public <B>ThreadSequencer</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="allocate(java.lang.String)"><!-- --></A><H3>
allocate</H3>
<PRE>
public static int <B>allocate</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;locationName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sequence(int)"><!-- --></A><H3>
sequence</H3>
<PRE>
public static void <B>sequence</B>(int&nbsp;location)</PRE>
<DL>
<DD>Possibly block (only when ThreadSequencer is enabled for tests) until a
 scheduling condition is met. This method is called from strategically
 selected places in the main code to enable concurrency tests. See above
 for details.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>location</CODE> - integer uniquely identifying a location in code</DL>
</DD>
</DL>
<HR>

<A NAME="enableSequencer(boolean)"><!-- --></A><H3>
enableSequencer</H3>
<PRE>
public static void <B>enableSequencer</B>(boolean&nbsp;history)</PRE>
<DL>
<DD>Enable sequencer debugging.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>history</CODE> - indicates whether to maintain a schedule history</DL>
</DD>
</DL>
<HR>

<A NAME="disableSequencer()"><!-- --></A><H3>
disableSequencer</H3>
<PRE>
public static void <B>disableSequencer</B>()</PRE>
<DL>
<DD>Disable sequencer debugging.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addSchedule(int[], int[])"><!-- --></A><H3>
addSchedule</H3>
<PRE>
public static void <B>addSchedule</B>(int[]&nbsp;awaitLocations,
                               int[]&nbsp;releaseLocations)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addSchedules(int[][])"><!-- --></A><H3>
addSchedules</H3>
<PRE>
public static void <B>addSchedules</B>(int[][]&nbsp;pairs)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCondition(int, com.persistit.util.ThreadSequencer.Condition)"><!-- --></A><H3>
setCondition</H3>
<PRE>
public static void <B>setCondition</B>(int&nbsp;location,
                                <A HREF="../../../com/persistit/util/ThreadSequencer.Condition.html" title="class in com.persistit.util">ThreadSequencer.Condition</A>&nbsp;condition)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sequencerHistory()"><!-- --></A><H3>
sequencerHistory</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>sequencerHistory</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="rawSequenceHistoryCopy()"><!-- --></A><H3>
rawSequenceHistoryCopy</H3>
<PRE>
public static int[] <B>rawSequenceHistoryCopy</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="appendHistoryElement(java.lang.StringBuilder, int)"><!-- --></A><H3>
appendHistoryElement</H3>
<PRE>
public static void <B>appendHistoryElement</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html?is-external=true" title="class or interface in java.lang">StringBuilder</A>&nbsp;sb,
                                        int&nbsp;location)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="describeHistory(int[])"><!-- --></A><H3>
describeHistory</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>describeHistory</B>(int[]&nbsp;history)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="describePartialOrdering(int[]...)"><!-- --></A><H3>
describePartialOrdering</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>describePartialOrdering</B>(int[]...&nbsp;args)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="historyMeetsPartialOrdering(int[], int[]...)"><!-- --></A><H3>
historyMeetsPartialOrdering</H3>
<PRE>
public static boolean <B>historyMeetsPartialOrdering</B>(int[]&nbsp;history,
                                                  int[]...&nbsp;partialOrderings)</PRE>
<DL>
<DD>Compare a particular sequence history to a collection of required
 subsets. That is, compare the total ordering of the history as specified
 by the given ranges where the elements within a given range can be in any
 order.
 <p>
 For example, a <code>partialOrderings</code> of:
 <ul>
 <li>
 
 <pre>
 { { A_IN, B_IN }, { OUT_B }, { IN_C } }
 </pre>
 
 </li>
 </ul>
 Could be satisfied by either of these <code>history</code>:
 <ul>
 <li>
 
 <pre>
 { A_IN, B_IN, OUT_B, IN_C }
 </pre>
 
 </li>
 <li>
 
 <pre>
 { B_IN, A_IN, OUT_B, IN_C }
 </pre>
 
 </li>
 </ul>
 But not by any that contains IN_C before OUT_B.
 </p>
 <p>
 <b>Note:</b> Both parameters will be modified by sorting.
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>history</CODE> - An ordered history, e.g. from
            <A HREF="../../../com/persistit/util/ThreadSequencer.html#rawSequenceHistoryCopy()"><CODE>rawSequenceHistoryCopy()</CODE></A>.<DD><CODE>partialOrderings</CODE> - Total ordering specification of unordered subsets
<DT><B>Returns:</B><DD><code>true</code> if the history fulfilled the required
         orderings.</DL>
</DD>
</DL>
<HR>

<A NAME="array(int...)"><!-- --></A><H3>
array</H3>
<PRE>
public static int[] <B>array</B>(int...&nbsp;args)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="out(int)"><!-- --></A><H3>
out</H3>
<PRE>
public static int <B>out</B>(int&nbsp;location)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ThreadSequencer.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/persistit/util/SequencerConstants.html" title="interface in com.persistit.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/persistit/util/ThreadSequencer.Condition.html" title="class in com.persistit.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/persistit/util/ThreadSequencer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ThreadSequencer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2005-2012 <a href="http://www.akiban.com">Akiban Technologies, Inc</a>. All Rights Reserved.
</BODY>
</HTML>
